<script>
	var _ = {};
	_.each = function(arrOrObject, fn, context, i, len) {
		if (typeof arrOrObject.length == "number") {
			for (i = 0, len = arrOrObject.length; i < len; i++)
				if (fn.call(context, arrOrObject[i], i) == false) break
		} else
			for (i in arrOrObject)
				if (fn.call(context, arrOrObject[i], i) == false) break
	};
	_.extend = function(target) {
		var length = arguments.length,
			i = 1,
			mixin;
		while (i < length) {
			mixin = arguments[i];
			for (var name in mixin) {
				if (mixin.hasOwnProperty(name)) {
					target[name] = mixin[name]
				}
			}
			i++
		}
		return target
	};
	_.queryString = function(query) {
		var arr = [];
		_.each(query, function(value, key) {
			value !== undefined && arr.push(key + "=" + value)
		});
		return arr.join("&")
	};
	_.byId = function(id) {
		return document.getElementById(id)
	};
	_.rNode = function(el) {
		try {
			el.parentNode.removeChild(el)
		} catch (e) {}
	};
	_.cTag = function(tagName, styles, attrs, out) {
		var t = document.createElement(tagName),
			cssText = "";
		_.each(styles || {}, function(value, key) {
			cssText += [key, ":", value, ";"].join("")
		}), t.style.cssText = cssText;
		_.each(attrs || {}, function(value, key) {
			t.setAttribute(key, value)
		});
		return out && out.appendChild(t) || t
	};
	_.jsonp = function(url, param, callback, handler) {
		var scr, back = "HTML5PlayerBookMarkCodeByZythum" + +(new Date) + Math.random().toString().replace(".", "");
		var hasQuery = url.indexOf("?") >= 0;
		param = _.queryString(param);
		if (param.length) param = (hasQuery ? "&" : "?") + param;
		handler = [hasQuery || param.length ? "&" : "?", handler || "callback", "=", back].join("");
		window[back] = function() {
			callback && callback.apply(this, arguments);
			delete window[back];
			_.rNode(scr)
		};
		(scr = _.cTag("script", {}, {}, document.body)).src = url + param + handler
	};
	_.times = function() {
		return (new Date).getTime();
	};
	_.log = function(text) {
		window.console || window.console(text);
	};
	_.isMobile = function() {
		var sUserAgent = navigator.userAgent.toLowerCase();
		var bIsIpad = sUserAgent.match(/ipad/i) == "ipad";
		var bIsIphoneOs = sUserAgent.match(/iphone os/i) == "iphone os";
		var bIsMidp = sUserAgent.match(/midp/i) == "midp";
		var bIsUc7 = sUserAgent.match(/rv:1.2.3.4/i) == "rv:1.2.3.4";
		var bIsUc = sUserAgent.match(/ucweb/i) == "ucweb";
		var bIsAndroid = sUserAgent.match(/android/i) == "android";
		var bIsCE = sUserAgent.match(/windows ce/i) == "windows ce";
		var bIsWM = sUserAgent.match(/windows mobile/i) == "windows mobile";
		var bIsWp = sUserAgent.match(/windows phone/i) == "windows phone";

		if (bIsIpad || bIsIphoneOs || bIsMidp || bIsUc7 || bIsUc || bIsAndroid || bIsCE || bIsWM || bIsWp) {
			return true;
		} else {
			return false;
		}
	}

	function iqiyi(playPageInfo) {

		var _0 = ["native_java_obj", "concat", "push", "fromCharCode", "undefined", "PageInfo", "", "length", "height", "orientation", "width", "devicePixelRatio", "round", "screenTop", "outerHeight", "_", "UCW", "_boluoWebView", "BOL", "TUROak1qbGlZelkwZWNhNDNlYmJhNTk3MWFjY01UazNORFF3T0E9PQ==", "TUROak1qbGlZdz09VG1wU2JGa3lSVEJOTWxacFdXMUZQUT09VGxSck0wMVhSbXBaZHowOQ==", "getTime", "cache", "sin", "abs", "substr", "replace", "charCodeAt", "function%20javaEnabled%28%29%20%7B%20%5Bnative%20code%5D%20%7D", "null", "WebkitAppearance", "style", "documentElement", "javaEnabled", "sgve", "sijsc", "md", "jc", "d", "join", "URL", ";", ";&tim=", "src", "d846d0c32d664d32b6b54ea48997a589", "sc", "__refI", "qd_jsin", "qd_wsz", "t", "__jsT", "jfakmkafklw23321f4ea32459", "__cliT", "h5", "__sigC", "__ctmM"];

		function weorjjigh(_20) {
			if (_34(_0[0])) {
				native_java_obj = {}
			};
			var _6 = [44, 10, -2, -2, -25, 5 * -11, 40, -16, 51, -4];
			h5vd_detective_url = true;

			function _7(_44, _43) {
				_44.push(_43)
			};
			var _26 = function(_13) {
				return btoa(_13)
			};
			var _3 = function(_13) {
				return atob(_13)
			};

			function _31(_46) {
				return String.fromCharCode(_46)
			};
			var _53 = function() {
				//if (typeof Q != _0[4] && (typeof Q[_0[5]] != _0[4])) {
				_16 = _0[6];
				for (var _1 = _33[_0[7]] - 1; _1 >= 0; _1--) {
					_16 += _31(_33[_1])
				}
				//}
			};
			var _12 = screen.height;
			var _27 = window.devicePixelRatio;
			_12 = Math.round(_12 / _27);
			var _32 = Math.round(window.screenTop / _27);
			var _36 = Math.round(window.outerHeight / _27);
			var _47 = (_12 - _36 - _32);
			var _55 = {
				hmxt: _12 + _0[15] + _32 + _0[15] + _36 + _0[15] + _27
			};
			var _41 = btoa(_32 + _0[15] + _47);
			var _24 = (typeof ucweb != _0[4]) ? (_26(_0[16])) : _0[6];
			_24 += _34(_0[17]) ? ((_24 ? _0[15] : _0[6]) + _26(_0[18])) : _0[6];
			var _54 = [12, 32, 434, 12, 2112, 32, 3];
			var _16 = "TUROak1qbGlZelkwZWNhNDNlYmJhNTk3MWFjY01UazNORFF3T0E9PQ==";
			var _33 = [57, 48, 84, 81, 80, 70, 122, 89, 69, 112, 86, 78, 74, 100, 48, 84, 111, 90, 107, 97, 79, 86, 84, 83, 69, 53, 48, 97, 71, 100, 48, 84, 49, 69, 69, 86, 80, 66, 122, 97, 85, 112, 49, 100, 82, 100, 86, 87, 57, 48, 122, 100, 78, 100, 88, 82, 85, 49, 85, 78, 106, 112, 88, 84];
			var _29 = _0[20];
			var _21 = [];

			for (var _1 = 0; _1 < _6[_0[7]]; _1++) {
				if (_1 % 2 == 0) {
					_21[_0[2]](_31(_6[_1] + _25))
				} else {
					_21[_0[2]](_31(_6[_1] - _25))
				}
			};
			var _5 = (new Date()).getTime();
			var _25 = 7;
			_7(_21, _5 - _25);
			var _28 = {};
			_28.cache = btoa((_5 - 7) + "");
			_7(_21, _20);
			var _39 = function(_19) {
				var _42 = [],
					_1 = 0;
				for (; _1 < 64;) {
					_42[_1] = 0 | (Math[_0[24]](Math[_0[23]](++_1)) * 4294967296)
				};

				function _17(_15, _35) {
					return (((_15 >> 1) + (_35 >> 1)) << 1) + (_15 & 1) + (_35 & 1)
				};
				var _50 = function(_8, _52) {
					_53();
					_8 = (_3(_28[_0[22]])) + _3((_3(_16))[_0[25]](0, 12)) + _3(_3(_16)[_0[25]](12, 20)) + _3(_3(_16)[_0[25]](32)) + _20;
					while (_8[_0[27]](0) == 0) {
						_8 = _8[_0[26]](String[_0[3]](0), _0[6])
					};
					if (_52) {
						_8 = (_3(_28[_0[22]])) + _3((_3(_29))[_0[25]](0, 12)) + _3(_3(_3(_29)[_0[25]](12, 24))) + _3(_3(_3(_29)[_0[25]](36))) + _20
					};
					var _9, _14, _5, _2, _15 = [],
						_40 = unescape(encodeURI(_8)),
						_4 = _40[_0[7]],
						_23 = [_9 = 1732584193, _14 = -271733879, ~_9, ~_14],
						_1 = 0;
					for (; _1 <= _4;) {
						_15[_1 >> 2] |= (_40[_0[27]](_1) || 128) << 8 * (_1++ % 4)
					};
					_15[_8 = (_4 + 8 >> 6) * _19 + 14] = _4 * 8;
					_1 = 0;
					for (; _1 < _8; _1 += _19) {
						_4 = _23,
						_2 = 0;
						for (; _2 < 64;) {
							_4 = [_5 = _4[3], _17(_9 = _4[1], (_5 = _17(_17(_4[0], [_9 & (_14 = _4[2]) | ~_9 & _5, _5 & _9 | ~_5 & _14, _9 ^ _14 ^ _5, _14 ^ (_9 | ~_5)][_4 = _2 >> 4]), _17(_42[_2], _15[[_2, 5 * _2 + 1, 3 * _2 + 5, 7 * _2][_4] % _19 + _1]))) << (_4 = [7, 12, 17, 22, 5, 9, 14, 20, 4, 11, _19, 23, 6, 10, 15, 21][4 * _4 + _2++ % 4]) | _5 >>> 32 - _4), _9, _14]
						};
						for (_2 = 4; _2;) {
							_23[--_2] = _17(_23[_2], _4[_2])
						}
					};
					_8 = _0[6];
					for (; _2 < 32;) {
						_8 += ((_23[_2 >> 3] >> ((1 ^ _2++ & 7) * 4)) & 15).toString(_19)
					};
					return _8
				};
				return _50
			}(16);
			var _26 = function(_13) {
				return btoa(_13)
			};
			var _3 = function(_13) {
				return atob(_13)
			};
			var _37 = function() {
				var _48 = _0[28];
				var _30 = _0[29];
				if (_0[30] in document[_0[32]][_0[31]]) {
					if (escape(navigator[_0[33]].toString()) === _48) {
						_30 = _0[34]
					} else {
						_30 = _0[35]
					}
				};
				return _30
			};
			var _38 = _39(_21[_0[39]](_0[6]));
			if (_38[_0[7]] > 4) {
				var _10 = {};
				_10[_0[43]] = _0[44];
				_10[_0[45]] = _38;
				if (_24) {
					_10[_0[47]] = _24
				};
				if (_41) {
					_10[_0[48]] = _41
				};
				_10[_0[49]] = _5 - 7;
				_10[_0[50]] = _37();
				return _10
			};

			function _34(_51) {
				return (typeof window[_51] != _0[4])
			}
		};

		var cupid = "qc_100001_100186"; // for android mp4

		var vid = playPageInfo.vid;
		var vinfo = playPageInfo;
		var r = weorjjigh(vinfo.tvId);

		return "http://cache.m.iqiyi.com/jp/tmts/" + vinfo.tvId + "/" + vid + "/?src=" + r.src + "&sc=" + r.sc + "&t=" + r.t;
	}
</script>
